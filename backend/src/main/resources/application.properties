# Server Configuration
server.port=8080
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never

# Database Configuration (Supabase)
# SECURE: Loaded from environment variables
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Security Configuration (Supabase Auth)
# ES256 requires JWKS validation, not a shared secret
perk.security.supabase.url=${NEXT_PUBLIC_SUPABASE_URL}
# perk.security.jwt.secret is no longer used for verification if using JWKS
perk.security.jwt.secret=${JWT_SECRET}

# Rate Limiting Logic via Bucket4j
# Not standard spring property, but used in custom config
perk.ratelimit.public=20
perk.ratelimit.authenticated=100

# Jackson / JSON Security
# Fail on unknown properties to prevent parameter injection/pollution
spring.jackson.deserialization.fail-on-unknown-properties=true

# Debug Security
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.oauth2=DEBUG
